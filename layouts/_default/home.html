{{ define "main" }}
<div class='hx:mx-auto hx:flex hextra-max-page-width'>
  {{ partial "sidebar.html" (dict "context" . "disableSidebar" true "displayPlaceholder" true) }}
  {{ partial "toc.html" . }}
  <article class="hx:w-full hx:break-words hx:flex hx:min-h-[calc(100vh-var(--navbar-height))] hx:min-w-0 hx:justify-center hx:pb-8 hx:pr-[calc(env(safe-area-inset-right)-1.5rem)]">
    <main class="hx:w-full hx:min-w-0 hx:max-w-6xl hx:px-6 hx:pt-4 hx:md:px-12">
      <section class="hx:text-center hx:mb-12">
        <h1 class="hx:text-4xl hx:font-bold hx:tracking-tight hx:text-slate-900 hx:dark:text-slate-100">A math blog written by students, for students</h1>
        <p class="hx:mt-2 hx:text-lg hx:text-slate-700 hx:dark:text-slate-300">Exploring ideas, solving problems, and sharing knowledge in mathematics.</p>
      </section>
      <div class="content hx:mt-4">{{ .Content }}</div>
      <section class="hx:mt-12">
        <h2 class="hx:text-2xl hx:font-bold hx:tracking-tight hx:text-slate-900 hx:dark:text-slate-100 hx:mb-6">Recent Posts</h2>
        <div class="hextra-cards hx:mt-4 hx:gap-4 hx:grid not-prose" style="--hextra-cards-grid-cols:3">
          {{ $recentPages := where .Site.RegularPages "Type" "in" (slice "blog" "posts") }}
          {{ range first 6 $recentPages }}
            <a class="hextra-card hx:group hx:flex hx:flex-col hx:justify-start hx:overflow-hidden hx:rounded-lg hx:border hx:border-gray-200 hx:text-current hx:no-underline hx:bg-gray-100 dark:hx-bg-neutral-800 hx-shadow dark:hx-border-neutral-700 hover:hx-shadow-lg dark:hover:hx-border-neutral-500" href="{{ .RelPermalink }}">
              {{ with .Params.featured_image }}
                <img alt="Featured image for {{ $.Title }}" class="hextra-card-image" loading="lazy" decoding="async" src="{{ . | relURL }}">
              {{ end }}
              <div class="hx:p-4">
                <span class="hx:font-semibold hx:text-gray-700 dark:hx-text-neutral-200">{{ .Title }}</span>
                <div class="hx-line-clamp-3 hx:mt-2 hx:text-sm hx:font-normal hx:text-gray-500 dark:hx-text-gray-400">
                  {{ with .Params.description }}{{ . }}{{ else }}{{ .Summary | plainify | truncate 150 }}{{ end }}
                </div>
              </div>
            </a>
          {{ end }}
        </div>
      </section>
    </main>
  </article>
</div>
{{ end }}